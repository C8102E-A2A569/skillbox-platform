# skillbox-platform
## Demo

### JMS + rabbitMQ demonstration:
1) POST `{catalog-service}/catalog/enroll` 
    вначале записываем пользователя на курс (подаем заявку как бы), нам возвращается ссылка для оплаты
2) {payment-service}/payment/process
    Оплачиваем курс, если денег на счету > 100 (средняя цена курса) то пользователю отдается success! 
    А JMS Producer генерит событие, которое 

### Scheduler + JCA
пока он тупой, просто шлет через JMS сообщение (объект) и все)
НО планируется
* проверка устаревших платежей
* отправка каждый день (раз в 24 часа) в notification-service (dummy сервис уведомлений) о том что пользователи ~~обалдели~~ не платят по счетам
* отправка будет происходить через JCA (по сути под капотом тоже будет rabbitMQ)

### Распределенные транзакции
архитектура продумывалась таким образом, чтобы данные в бд сохранялись только после успешных взаимодействий, 
то есть синхронный вызов (через REST), если нужно сразу что-то обработать
асинхронный - когда можно не ждать

## ТЗ
### Лабораторная работа 1 (БЛПС)

**Вариант №804:** Skillbox — образовательная платформа с онлайн-курсами — [https://skillbox.ru/](https://skillbox.ru/). Бизнес-процесс: работа с каталогом, запись на курс (с оплатой).

Описать бизнес-процесс в соответствии с нотацией BPMN 2.0, после чего реализовать его в виде приложения на базе Spring Boot.

**Порядок выполнения работы:**

1. Выбрать один из бизнес-процессов, реализуемых сайтом из варианта задания.
2. Утвердить выбранный бизнес-процесс у преподавателя.
3. Специфицировать модель реализуемого бизнес-процесса в соответствии с требованиями BPMN 2.0.
4. Разработать приложение на базе Spring Boot, реализующее описанный на предыдущем шаге бизнес-процесс. Приложение должно использовать СУБД PostgreSQL для хранения данных, для всех публичных интерфейсов должны быть разработаны REST API.
5. Разработать набор curl-скриптов либо набор запросов для REST-клиента Insomnia для тестирования публичных интерфейсов разработанного программного модуля. Запросы Insomnia оформить в виде файла экспорта.
6. Развернуть разработанное приложение на сервере `helios`.

**Содержание отчёта:**

1. Текст задания.
2. Модель потока управления для автоматизируемого бизнес-процесса.
3. UML-диаграммы классов и пакетов разработанного приложения.
4. Спецификация REST API для всех публичных интерфейсов разработанного приложения.
5. Исходный код системы или ссылка на репозиторий с исходным кодом.
6. Выводы по работе.

**Swagger**

Система оплаты: http://localhost:8080/swagger-ui/index.html#
Система работы с каталогом: http://localhost:8082/swagger-ui/index.html#


